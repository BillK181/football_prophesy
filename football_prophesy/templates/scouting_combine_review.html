{% extends "base.html" %}

{% block title %}
Scouting Combine Results | Football Prophesy
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/scouting_combine.css') }}">
{% endblock %}

{% block content %}

<section class="combine-container">
    <h1>{{ user.username }}'s 2026 Scouting Combine Results</h1>
    <p>Review the predictions they made. Correct picks are shown with points earned, incorrect picks are marked with ❌.</p>

    <form>
        {% set drills = ["40_yard", "bench_press", "three_cone"] %}

        {% for position, position_players in players.items() %}
        <div class="position-group">
            <h2>{{ position }}</h2>

            {% for drill in drills %}
            <div class="drill-section">
                <h3>{{ drill.replace("_", " ").title() }}</h3>

                {% for place in [1,2,3] %}
                {% set key = position|lower|replace(' ', '_') ~ '_' ~ drill ~ '_' ~ place %}
                {% set player_name = predictions_dict.get(key) %}
                {% set points = feedback.get(key, 0) %}

                <div class="prediction-row">
                    <label>Place {{ place }}</label>
                    <input type="text" value="{{ player_name }}" disabled>

                    {% if player_name %}
                        {% if points > 0 %}
                        +{{ points }}
                        {% else %}
                        ❌
                        {% endif %}
                    {% endif %}
                </div>
                {% endfor %}

            </div>
            {% endfor %}
        </div>
        <hr>
        {% endfor %}

    </form>
</section>

{% endblock %}
